<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="AICcPermanova">
<title>Getting started with the AICcPermanova package • AICcPermanova</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Getting started with the AICcPermanova package">
<meta property="og:description" content="AICcPermanova">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">AICcPermanova</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/getting-started-with-aiccpermanova.html">Getting started with the AICcPermanova package</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/Sustainscapes/AICcPerm/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Getting started with the AICcPermanova package</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/Sustainscapes/AICcPerm/blob/HEAD/vignettes/getting-started-with-aiccpermanova.Rmd" class="external-link"><code>vignettes/getting-started-with-aiccpermanova.Rmd</code></a></small>
      <div class="d-none name"><code>getting-started-with-aiccpermanova.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/Sustainscapes/AICcPerm" class="external-link">AICcPermanova</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The AICcPermanova package provides an R implementation of model
selection for Permanovas from the vegan package. This package enables
users to generate all possible models for a given set of variables,
calculate AICc values for those models, and perform model selection
based on a given threshold.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>To install this package, you can use the remotes package to install
its development version:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"Sustainscapes/AICcPerm"</span><span class="op">)</span></span></code></pre></div>
<p>Alternatively, you can install the stable version from CRAN:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"AICcPermanova"</span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="generating-all-possible-models">Generating all possible models<a class="anchor" aria-label="anchor" href="#generating-all-possible-models"></a>
</h3>
<p>To generate all possible models, you can use the
<code>make_models</code> function. For example:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/Sustainscapes/AICcPerm" class="external-link">AICcPermanova</a></span><span class="op">)</span></span>
<span><span class="va">AllModels</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_models.html">make_models</a></span><span class="op">(</span>vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"pH"</span>, <span class="st">"Sand"</span>, <span class="st">"Clay"</span><span class="op">)</span>, ncores <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<p>This function will create a table of all possible models for the
specified variables, which you can see in the following table:</p>
<table class="table">
<thead><tr class="header">
<th align="left">form</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Distance ~ pH</td>
</tr>
<tr class="even">
<td align="left">Distance ~ Sand</td>
</tr>
<tr class="odd">
<td align="left">Distance ~ Clay</td>
</tr>
<tr class="even">
<td align="left">Distance ~ pH + Sand</td>
</tr>
<tr class="odd">
<td align="left">Distance ~ pH + Clay</td>
</tr>
<tr class="even">
<td align="left">Distance ~ Sand + Clay</td>
</tr>
<tr class="odd">
<td align="left">Distance ~ pH + Sand + Clay</td>
</tr>
<tr class="even">
<td align="left">Distance ~ 1</td>
</tr>
</tbody>
</table>
<p>Where you can see all possible models for those 3 variables.</p>
</div>
<div class="section level3">
<h3 id="calculating-aicc">Calculating AICc<a class="anchor" aria-label="anchor" href="#calculating-aicc"></a>
</h3>
<p>To calculate AICc, you can use the AICc_permanova2 function. Here’s
an example of how to use it:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/vegandevs/vegan" class="external-link">vegan</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading required package: permute</span></span>
<span><span class="co">#&gt; Loading required package: lattice</span></span>
<span><span class="co">#&gt; This is vegan 2.6-4</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">dune</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">dune.env</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Run PERMANOVA using adonis2</span></span>
<span></span>
<span><span class="va">Model</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/vegan/man/adonis.html" class="external-link">adonis2</a></span><span class="op">(</span><span class="va">dune</span> <span class="op">~</span> <span class="va">Management</span> <span class="op">*</span> <span class="va">A1</span>, data <span class="op">=</span> <span class="va">dune.env</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Calculate AICc</span></span>
<span><span class="va">Table_permanova</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/AICc_permanova2.html">AICc_permanova2</a></span><span class="op">(</span><span class="va">Model</span><span class="op">)</span></span></code></pre></div>
<p>The results of this calculation are displayed in the following
table:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">Table_permanova</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="right">AICc</th>
<th align="right">k</th>
<th align="right">N</th>
</tr></thead>
<tbody><tr class="odd">
<td align="right">-19.06395</td>
<td align="right">8</td>
<td align="right">20</td>
</tr></tbody>
</table>
<p>In this example, we used the adonis2 function to run a PERMANOVA
analysis on the dune dataset with the Management and A1 variables. We
then calculated AICc using the AICc_permanova2 function</p>
</div>
<div class="section level3">
<h3 id="full-example">Full example<a class="anchor" aria-label="anchor" href="#full-example"></a>
</h3>
<p>In this section, we’ll provide a complete example of the AICcPerm
package workflow. First, we need to load datasets from the vegan
package:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/vegandevs/vegan" class="external-link">vegan</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">dune</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">dune.env</span><span class="op">)</span></span></code></pre></div>
<p>Next, we’ll generate all possible first-order models for this
dataset:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">AllModels</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_models.html">make_models</a></span><span class="op">(</span>vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A1"</span>, <span class="st">"Moisture"</span>, <span class="st">"Management"</span>, <span class="st">"Use"</span>, <span class="st">"Manure"</span><span class="op">)</span>, ncores <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="co">#&gt; 1 of 5 ready 2023-04-11 03:12:47</span></span>
<span><span class="co">#&gt; 2 of 5 ready 2023-04-11 03:12:49</span></span>
<span><span class="co">#&gt; 3 of 5 ready 2023-04-11 03:12:51</span></span>
<span><span class="co">#&gt; 4 of 5 ready 2023-04-11 03:12:54</span></span>
<span><span class="co">#&gt; 5 of 5 ready 2023-04-11 03:12:56</span></span></code></pre></div>
<p>This results in 32 possible models, which are shown in the following
table:</p>
<table class="table">
<thead><tr class="header">
<th align="left">form</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Distance ~ A1</td>
</tr>
<tr class="even">
<td align="left">Distance ~ Moisture</td>
</tr>
<tr class="odd">
<td align="left">Distance ~ Management</td>
</tr>
<tr class="even">
<td align="left">Distance ~ Use</td>
</tr>
<tr class="odd">
<td align="left">Distance ~ Manure</td>
</tr>
<tr class="even">
<td align="left">Distance ~ A1 + Moisture</td>
</tr>
<tr class="odd">
<td align="left">Distance ~ A1 + Management</td>
</tr>
<tr class="even">
<td align="left">Distance ~ A1 + Use</td>
</tr>
<tr class="odd">
<td align="left">Distance ~ A1 + Manure</td>
</tr>
<tr class="even">
<td align="left">Distance ~ Moisture + Management</td>
</tr>
<tr class="odd">
<td align="left">Distance ~ Moisture + Use</td>
</tr>
<tr class="even">
<td align="left">Distance ~ Moisture + Manure</td>
</tr>
<tr class="odd">
<td align="left">Distance ~ Management + Use</td>
</tr>
<tr class="even">
<td align="left">Distance ~ Management + Manure</td>
</tr>
<tr class="odd">
<td align="left">Distance ~ Use + Manure</td>
</tr>
<tr class="even">
<td align="left">Distance ~ A1 + Moisture + Management</td>
</tr>
<tr class="odd">
<td align="left">Distance ~ A1 + Moisture + Use</td>
</tr>
<tr class="even">
<td align="left">Distance ~ A1 + Moisture + Manure</td>
</tr>
<tr class="odd">
<td align="left">Distance ~ A1 + Management + Use</td>
</tr>
<tr class="even">
<td align="left">Distance ~ A1 + Management + Manure</td>
</tr>
<tr class="odd">
<td align="left">Distance ~ A1 + Use + Manure</td>
</tr>
<tr class="even">
<td align="left">Distance ~ Moisture + Management + Use</td>
</tr>
<tr class="odd">
<td align="left">Distance ~ Moisture + Management + Manure</td>
</tr>
<tr class="even">
<td align="left">Distance ~ Moisture + Use + Manure</td>
</tr>
<tr class="odd">
<td align="left">Distance ~ Management + Use + Manure</td>
</tr>
<tr class="even">
<td align="left">Distance ~ A1 + Moisture + Management + Use</td>
</tr>
<tr class="odd">
<td align="left">Distance ~ A1 + Moisture + Management + Manure</td>
</tr>
<tr class="even">
<td align="left">Distance ~ A1 + Moisture + Use + Manure</td>
</tr>
<tr class="odd">
<td align="left">Distance ~ A1 + Management + Use + Manure</td>
</tr>
<tr class="even">
<td align="left">Distance ~ Moisture + Management + Use + Manure</td>
</tr>
<tr class="odd">
<td align="left">Distance ~ A1 + Moisture + Management + Use +
Manure</td>
</tr>
<tr class="even">
<td align="left">Distance ~ 1</td>
</tr>
</tbody>
</table>
<div class="section level4">
<h4 id="avoiding-multicollinearity">Avoiding multicollinearity<a class="anchor" aria-label="anchor" href="#avoiding-multicollinearity"></a>
</h4>
<p>After generating all the models, it’s important to check for
multicollinearity. We can use the <code>filter_vif</code> function to
filter out models that have a high degree of collinearity (defined as
having a maximum value of VIF of 5 or more):</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">NonColinear</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_vif.html">filter_vif</a></span><span class="op">(</span>all_forms <span class="op">=</span> <span class="va">AllModels</span>, env_data <span class="op">=</span> <span class="va">dune.env</span>, ncores <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<p>This reduces the number of models to 21</p>
</div>
<div class="section level4">
<h4 id="fittng-the-models">Fittng the models<a class="anchor" aria-label="anchor" href="#fittng-the-models"></a>
</h4>
<p>After filtering out collinear models, we can fit all the remaining
non-collinear models by using the <code>fit_models</code> function:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Fitted</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fit_models.html">fit_models</a></span><span class="op">(</span></span>
<span>  all_forms <span class="op">=</span> <span class="va">NonColinear</span>,</span>
<span>  veg_data <span class="op">=</span> <span class="va">dune</span>,</span>
<span>  env_data <span class="op">=</span> <span class="va">dune.env</span>,</span>
<span>  ncores <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"bray"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>This results in a table of fitted models ordered by AICc, which is
displayed below:</p>
<table style="width:100%;" class="table">
<colgroup>
<col width="34%">
<col width="7%">
<col width="8%">
<col width="2%">
<col width="2%">
<col width="7%">
<col width="7%">
<col width="8%">
<col width="7%">
<col width="7%">
<col width="4%">
</colgroup>
<thead><tr class="header">
<th align="left">form</th>
<th align="right">max_vif</th>
<th align="right">AICc</th>
<th align="right">k</th>
<th align="right">N</th>
<th align="right">A1</th>
<th align="right">Moisture</th>
<th align="right">Management</th>
<th align="right">Use</th>
<th align="right">Manure</th>
<th align="right">Model</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Distance ~ Moisture</td>
<td align="right">0.000000</td>
<td align="right">-30.363195</td>
<td align="right">4</td>
<td align="right">20</td>
<td align="right">NA</td>
<td align="right">0.4019903</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">Distance ~ A1</td>
<td align="right">0.000000</td>
<td align="right">-29.723474</td>
<td align="right">2</td>
<td align="right">20</td>
<td align="right">0.1681666</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">Distance ~ 1</td>
<td align="right">0.000000</td>
<td align="right">-28.524673</td>
<td align="right">1</td>
<td align="right">20</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Distance ~ Management</td>
<td align="right">0.000000</td>
<td align="right">-28.439405</td>
<td align="right">4</td>
<td align="right">20</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">0.3416107</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">Distance ~ A1 + Moisture</td>
<td align="right">3.000000</td>
<td align="right">-28.211489</td>
<td align="right">5</td>
<td align="right">20</td>
<td align="right">0.0423034</td>
<td align="right">0.2761272</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">Distance ~ A1 + Management</td>
<td align="right">3.000000</td>
<td align="right">-28.206906</td>
<td align="right">5</td>
<td align="right">20</td>
<td align="right">0.1025557</td>
<td align="right">NA</td>
<td align="right">0.2759998</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">Distance ~ A1 + Use</td>
<td align="right">2.000000</td>
<td align="right">-27.243308</td>
<td align="right">4</td>
<td align="right">20</td>
<td align="right">0.1723656</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">0.1328680</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">Distance ~ Moisture + Use</td>
<td align="right">3.000000</td>
<td align="right">-26.706730</td>
<td align="right">6</td>
<td align="right">20</td>
<td align="right">NA</td>
<td align="right">0.3850987</td>
<td align="right">NA</td>
<td align="right">0.1117773</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">Distance ~ Moisture + Management</td>
<td align="right">3.000000</td>
<td align="right">-26.219635</td>
<td align="right">7</td>
<td align="right">20</td>
<td align="right">NA</td>
<td align="right">0.2678801</td>
<td align="right">0.2075005</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">Distance ~ Use</td>
<td align="right">0.000000</td>
<td align="right">-26.001561</td>
<td align="right">3</td>
<td align="right">20</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">0.1286690</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">Distance ~ Manure</td>
<td align="right">0.000000</td>
<td align="right">-25.214897</td>
<td align="right">5</td>
<td align="right">20</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">0.3544714</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">Distance ~ A1 + Manure</td>
<td align="right">4.000000</td>
<td align="right">-25.187448</td>
<td align="right">6</td>
<td align="right">20</td>
<td align="right">0.1209209</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">0.3072258</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">Distance ~ A1 + Moisture + Use</td>
<td align="right">3.000000</td>
<td align="right">-24.004036</td>
<td align="right">7</td>
<td align="right">20</td>
<td align="right">0.0499753</td>
<td align="right">0.2627084</td>
<td align="right">NA</td>
<td align="right">0.1194492</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">Distance ~ Management + Use</td>
<td align="right">3.000000</td>
<td align="right">-23.493146</td>
<td align="right">6</td>
<td align="right">20</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">0.3003444</td>
<td align="right">0.0874027</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">Distance ~ Moisture + Manure</td>
<td align="right">4.000000</td>
<td align="right">-22.939843</td>
<td align="right">8</td>
<td align="right">20</td>
<td align="right">NA</td>
<td align="right">0.3005223</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">0.2530035</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">Distance ~ A1 + Moisture + Management</td>
<td align="right">3.000000</td>
<td align="right">-22.910428</td>
<td align="right">8</td>
<td align="right">20</td>
<td align="right">0.0449952</td>
<td align="right">0.2103196</td>
<td align="right">0.2101923</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">Distance ~ A1 + Management + Use</td>
<td align="right">3.000000</td>
<td align="right">-21.475776</td>
<td align="right">7</td>
<td align="right">20</td>
<td align="right">0.0759437</td>
<td align="right">NA</td>
<td align="right">0.2039225</td>
<td align="right">0.0607907</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">Distance ~ Use + Manure</td>
<td align="right">4.000000</td>
<td align="right">-19.071272</td>
<td align="right">7</td>
<td align="right">20</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">0.0872434</td>
<td align="right">0.3130459</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">Distance ~ A1 + Moisture + Manure</td>
<td align="right">4.508169</td>
<td align="right">-18.590778</td>
<td align="right">9</td>
<td align="right">20</td>
<td align="right">0.0414517</td>
<td align="right">0.2210532</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">0.2521518</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">Distance ~ Moisture + Management + Use</td>
<td align="right">3.648562</td>
<td align="right">-15.655183</td>
<td align="right">9</td>
<td align="right">20</td>
<td align="right">NA</td>
<td align="right">0.2194405</td>
<td align="right">0.1346862</td>
<td align="right">0.0389631</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">Distance ~ A1 + Moisture + Management + Use</td>
<td align="right">4.710040</td>
<td align="right">-8.837299</td>
<td align="right">10</td>
<td align="right">20</td>
<td align="right">0.0274588</td>
<td align="right">0.1709557</td>
<td align="right">0.1121697</td>
<td align="right">0.0214267</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
</tbody>
</table>
<p>If there is a block variable to be used (such as Use in the dune.env
object), you can specify it using the strata argument:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Fitted2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fit_models.html">fit_models</a></span><span class="op">(</span></span>
<span>  all_forms <span class="op">=</span> <span class="va">NonColinear</span>,</span>
<span>  veg_data <span class="op">=</span> <span class="va">dune</span>,</span>
<span>  env_data <span class="op">=</span> <span class="va">dune.env</span>,</span>
<span>  ncores <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"bray"</span>,</span>
<span>  strata <span class="op">=</span> <span class="st">"Use"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>This results in a table of fitted models that takes into account the
block variable, which is displayed below:</p>
<table style="width:100%;" class="table">
<colgroup>
<col width="34%">
<col width="7%">
<col width="8%">
<col width="2%">
<col width="2%">
<col width="7%">
<col width="7%">
<col width="8%">
<col width="7%">
<col width="7%">
<col width="4%">
</colgroup>
<thead><tr class="header">
<th align="left">form</th>
<th align="right">max_vif</th>
<th align="right">AICc</th>
<th align="right">k</th>
<th align="right">N</th>
<th align="right">A1</th>
<th align="right">Moisture</th>
<th align="right">Management</th>
<th align="right">Use</th>
<th align="right">Manure</th>
<th align="right">Model</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Distance ~ Moisture</td>
<td align="right">0.000000</td>
<td align="right">-30.363195</td>
<td align="right">4</td>
<td align="right">20</td>
<td align="right">NA</td>
<td align="right">0.4019903</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">Distance ~ A1</td>
<td align="right">0.000000</td>
<td align="right">-29.723474</td>
<td align="right">2</td>
<td align="right">20</td>
<td align="right">0.1681666</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">Distance ~ 1</td>
<td align="right">0.000000</td>
<td align="right">-28.524673</td>
<td align="right">1</td>
<td align="right">20</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Distance ~ Management</td>
<td align="right">0.000000</td>
<td align="right">-28.439405</td>
<td align="right">4</td>
<td align="right">20</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">0.3416107</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">Distance ~ A1 + Moisture</td>
<td align="right">3.000000</td>
<td align="right">-28.211489</td>
<td align="right">5</td>
<td align="right">20</td>
<td align="right">0.0423034</td>
<td align="right">0.2761272</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">Distance ~ A1 + Management</td>
<td align="right">3.000000</td>
<td align="right">-28.206906</td>
<td align="right">5</td>
<td align="right">20</td>
<td align="right">0.1025557</td>
<td align="right">NA</td>
<td align="right">0.2759998</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">Distance ~ A1 + Use</td>
<td align="right">2.000000</td>
<td align="right">-27.243308</td>
<td align="right">4</td>
<td align="right">20</td>
<td align="right">0.1723656</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">0.1328680</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">Distance ~ Moisture + Use</td>
<td align="right">3.000000</td>
<td align="right">-26.706730</td>
<td align="right">6</td>
<td align="right">20</td>
<td align="right">NA</td>
<td align="right">0.3850987</td>
<td align="right">NA</td>
<td align="right">0.1117773</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">Distance ~ Moisture + Management</td>
<td align="right">3.000000</td>
<td align="right">-26.219635</td>
<td align="right">7</td>
<td align="right">20</td>
<td align="right">NA</td>
<td align="right">0.2678801</td>
<td align="right">0.2075005</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">Distance ~ Use</td>
<td align="right">0.000000</td>
<td align="right">-26.001561</td>
<td align="right">3</td>
<td align="right">20</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">0.1286690</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">Distance ~ Manure</td>
<td align="right">0.000000</td>
<td align="right">-25.214897</td>
<td align="right">5</td>
<td align="right">20</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">0.3544714</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">Distance ~ A1 + Manure</td>
<td align="right">4.000000</td>
<td align="right">-25.187448</td>
<td align="right">6</td>
<td align="right">20</td>
<td align="right">0.1209209</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">0.3072258</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">Distance ~ A1 + Moisture + Use</td>
<td align="right">3.000000</td>
<td align="right">-24.004036</td>
<td align="right">7</td>
<td align="right">20</td>
<td align="right">0.0499753</td>
<td align="right">0.2627084</td>
<td align="right">NA</td>
<td align="right">0.1194492</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">Distance ~ Management + Use</td>
<td align="right">3.000000</td>
<td align="right">-23.493146</td>
<td align="right">6</td>
<td align="right">20</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">0.3003444</td>
<td align="right">0.0874027</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">Distance ~ Moisture + Manure</td>
<td align="right">4.000000</td>
<td align="right">-22.939843</td>
<td align="right">8</td>
<td align="right">20</td>
<td align="right">NA</td>
<td align="right">0.3005223</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">0.2530035</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">Distance ~ A1 + Moisture + Management</td>
<td align="right">3.000000</td>
<td align="right">-22.910428</td>
<td align="right">8</td>
<td align="right">20</td>
<td align="right">0.0449952</td>
<td align="right">0.2103196</td>
<td align="right">0.2101923</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">Distance ~ A1 + Management + Use</td>
<td align="right">3.000000</td>
<td align="right">-21.475776</td>
<td align="right">7</td>
<td align="right">20</td>
<td align="right">0.0759437</td>
<td align="right">NA</td>
<td align="right">0.2039225</td>
<td align="right">0.0607907</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">Distance ~ Use + Manure</td>
<td align="right">4.000000</td>
<td align="right">-19.071272</td>
<td align="right">7</td>
<td align="right">20</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">0.0872434</td>
<td align="right">0.3130459</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">Distance ~ A1 + Moisture + Manure</td>
<td align="right">4.508169</td>
<td align="right">-18.590778</td>
<td align="right">9</td>
<td align="right">20</td>
<td align="right">0.0414517</td>
<td align="right">0.2210532</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">0.2521518</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">Distance ~ Moisture + Management + Use</td>
<td align="right">3.648562</td>
<td align="right">-15.655183</td>
<td align="right">9</td>
<td align="right">20</td>
<td align="right">NA</td>
<td align="right">0.2194405</td>
<td align="right">0.1346862</td>
<td align="right">0.0389631</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">Distance ~ A1 + Moisture + Management + Use</td>
<td align="right">4.710040</td>
<td align="right">-8.837299</td>
<td align="right">10</td>
<td align="right">20</td>
<td align="right">0.0274588</td>
<td align="right">0.1709557</td>
<td align="right">0.1121697</td>
<td align="right">0.0214267</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level3">
<h3 id="model-selection">Model Selection<a class="anchor" aria-label="anchor" href="#model-selection"></a>
</h3>
<p>To select models, we use the select_models function, which chooses
models with a maximum VIF of less than 5 and a delta AICc less than a
specified threshold, delta_aicc. By default, delta_aicc is set to 2.</p>
<p>We can use the Fitted2 object generated in the previous section to
select models:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Selected</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/select_models.html">select_models</a></span><span class="op">(</span><span class="va">Fitted2</span><span class="op">)</span></span></code></pre></div>
<p>The resulting table displays the selected models:</p>
<table style="width:100%;" class="table">
<colgroup>
<col width="21%">
<col width="7%">
<col width="9%">
<col width="2%">
<col width="2%">
<col width="9%">
<col width="9%">
<col width="10%">
<col width="5%">
<col width="9%">
<col width="9%">
</colgroup>
<thead><tr class="header">
<th align="left">form</th>
<th align="right">max_vif</th>
<th align="right">AICc</th>
<th align="right">k</th>
<th align="right">N</th>
<th align="right">A1</th>
<th align="right">Moisture</th>
<th align="right">Management</th>
<th align="right">Model</th>
<th align="right">DeltaAICc</th>
<th align="right">AICWeight</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Distance ~ Moisture</td>
<td align="right">0</td>
<td align="right">-30.36319</td>
<td align="right">4</td>
<td align="right">20</td>
<td align="right">NA</td>
<td align="right">0.4019903</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">0.0000000</td>
<td align="right">0.3988462</td>
</tr>
<tr class="even">
<td align="left">Distance ~ A1</td>
<td align="right">0</td>
<td align="right">-29.72347</td>
<td align="right">2</td>
<td align="right">20</td>
<td align="right">0.1681666</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">0.6397207</td>
<td align="right">0.2896622</td>
</tr>
<tr class="odd">
<td align="left">Distance ~ 1</td>
<td align="right">0</td>
<td align="right">-28.52467</td>
<td align="right">1</td>
<td align="right">20</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">0</td>
<td align="right">1.8385219</td>
<td align="right">0.1590653</td>
</tr>
<tr class="even">
<td align="left">Distance ~ Management</td>
<td align="right">0</td>
<td align="right">-28.43941</td>
<td align="right">4</td>
<td align="right">20</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">0.3416107</td>
<td align="right">NA</td>
<td align="right">1.9237896</td>
<td align="right">0.1524263</td>
</tr>
</tbody>
</table>
<p>Note that the models in the table satisfy the criteria for maximum
VIF and delta AICc as specified in the <code>select_models</code>
function.</p>
<div class="section level4">
<h4 id="summary-weighted-by-aicc">Summary weighted by AICc<a class="anchor" aria-label="anchor" href="#summary-weighted-by-aicc"></a>
</h4>
<p>finally you can do a summarized r squared weighted by AICc using the
<code>akaike_adjusted_rsq</code> function as seen bellow:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Summary</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/akaike_adjusted_rsq.html">akaike_adjusted_rsq</a></span><span class="op">(</span><span class="va">Selected</span><span class="op">)</span></span></code></pre></div>
<p>which results in the following table:</p>
<table class="table">
<thead><tr class="header">
<th align="left">Variable</th>
<th align="right">Full_Akaike_Adjusted_RSq</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">A1</td>
<td align="right">0.0487115</td>
</tr>
<tr class="even">
<td align="left">Moisture</td>
<td align="right">0.1603323</td>
</tr>
<tr class="odd">
<td align="left">Management</td>
<td align="right">NA</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="section level2">
<h2 id="conclusion">Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a>
</h2>
<p>The AICcPerm package provides an easy-to-use implementation of model
selection based on AICc, which is a useful tool for selecting the best
model from a set of candidate models. By calculating AICc values for
each model, we can compare them and select the model with the lowest
AICc value. This method takes into account both model complexity and
goodness-of-fit, making it a valuable approach for selecting models that
balance these two factors.</p>
<p>Furthermore, the AICcPermanova package offers additional tools for
model selection, such as model averaging and model comparison based on
likelihood ratio tests. These can be used to further refine model
selection and improve the accuracy of model predictions.</p>
<p>Overall, the AICcPermanova package is a powerful tool for model
selection in a variety of contexts, including ecology, biology, and
other fields that use statistical modeling to analyze complex data. By
selecting the best model from a set of candidate models, researchers can
make more accurate predictions and draw more reliable conclusions from
their data.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Derek Corcoran.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
