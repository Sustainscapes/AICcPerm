[{"path":"https://sustainscapes.github.io/AICcPermanova/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2023 AICcPermanova authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://sustainscapes.github.io/AICcPermanova/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Derek Corcoran. Author, maintainer.","code":""},{"path":"https://sustainscapes.github.io/AICcPermanova/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Corcoran D (2023). AICcPermanova: Model Selection PERMANOVA Models Using AICc. https://github.com/Sustainscapes/AICcPerm, https://sustainscapes.github.io/AICcPerm/.","code":"@Manual{,   title = {AICcPermanova: Model Selection of PERMANOVA Models Using AICc},   author = {Derek Corcoran},   year = {2023},   note = {https://github.com/Sustainscapes/AICcPerm, https://sustainscapes.github.io/AICcPerm/}, }"},{"path":"https://sustainscapes.github.io/AICcPermanova/index.html","id":"aiccperm","dir":"","previous_headings":"","what":"Model Selection of PERMANOVA Models Using AICc","title":"Model Selection of PERMANOVA Models Using AICc","text":"goal AICcPerm generate R package model selection Permanovas vegan packages, install package can use remotes package intall :","code":"remotes::install_github(\"Sustainscapes/AICcPerm\")"},{"path":"https://sustainscapes.github.io/AICcPermanova/index.html","id":"generation-of-all-possible-models","dir":"","previous_headings":"","what":"Generation of all possible models","title":"Model Selection of PERMANOVA Models Using AICc","text":"generation possible models can use make_models function, just example give following table: can see possible models tose 3 variables.","code":"library(AICcPermanova) AllModels <- make_models(vars = c(\"pH\", \"Sand\", \"Clay\"), ncores = 2)"},{"path":"https://sustainscapes.github.io/AICcPermanova/index.html","id":"aicc-calculation","dir":"","previous_headings":"","what":"AICc calculation","title":"Model Selection of PERMANOVA Models Using AICc","text":"can use AICc_permanova2, example : shown following table","code":"library(vegan) #> Loading required package: permute #> Loading required package: lattice #> This is vegan 2.6-4 data(dune) data(dune.env)  # Run PERMANOVA using adonis2  Model <- adonis2(dune ~ Management*A1, data = dune.env)  # Calculate AICc Table_permanova <- AICc_permanova2(Model) knitr::kable(Table_permanova)"},{"path":"https://sustainscapes.github.io/AICcPermanova/index.html","id":"full-example","dir":"","previous_headings":"","what":"Full example","title":"Model Selection of PERMANOVA Models Using AICc","text":"show last function called fit_models, start using datasets vegan package: generate possible models 3 variables: get table: , make model selection fitting possible models: results following table: block variable used, example Management dune.env object, can change code using strata argument: results following table:","code":"library(vegan) data(dune) data(dune.env) AllModels <- make_models(vars = c(\"A1\", \"Moisture\", \"Manure\")) #> 1 of 3 ready 2023-04-07 09:15:53 #> 2 of 3 ready 2023-04-07 09:15:58 #> 3 of 3 ready 2023-04-07 09:16:00 Fitted <- fit_models(all_forms = AllModels,            veg_data = dune,            env_data = dune.env,            ncores = 4,            method = \"bray\") Fitted2 <- fit_models(all_forms = AllModels,            veg_data = dune,            env_data = dune.env,            ncores = 4,            method = \"bray\",            strata = \"Management\")"},{"path":"https://sustainscapes.github.io/AICcPermanova/index.html","id":"selecting-models","dir":"","previous_headings":"","what":"Selecting models","title":"Model Selection of PERMANOVA Models Using AICc","text":"order select models use function select_models select models max VIF less 5 delta AICc less parameter called delta_aicc defaults 2 use last model used section get us : results following table:","code":"Selected <- select_models(Fitted2)"},{"path":"https://sustainscapes.github.io/AICcPermanova/reference/AICc_permanova2.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate AICc for a permutational multivariate analysis of variance (PERMANOVA) — AICc_permanova2","title":"Calculate AICc for a permutational multivariate analysis of variance (PERMANOVA) — AICc_permanova2","text":"#' function calculates Akaike's Information Criterion (AICc) permutational multivariate analysis variance (PERMANOVA) model. AICc modified version Akaike Information Criterion (AIC) appropriate small sample sizes high-dimensional models.","code":""},{"path":"https://sustainscapes.github.io/AICcPermanova/reference/AICc_permanova2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate AICc for a permutational multivariate analysis of variance (PERMANOVA) — AICc_permanova2","text":"","code":"AICc_permanova2(adonis2_model)"},{"path":"https://sustainscapes.github.io/AICcPermanova/reference/AICc_permanova2.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate AICc for a permutational multivariate analysis of variance (PERMANOVA) — AICc_permanova2","text":"adonis2_model object class adonis2 vegan package","code":""},{"path":"https://sustainscapes.github.io/AICcPermanova/reference/AICc_permanova2.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate AICc for a permutational multivariate analysis of variance (PERMANOVA) — AICc_permanova2","text":"data frame AICc, number parameters (k) number observations (N).","code":""},{"path":"https://sustainscapes.github.io/AICcPermanova/reference/AICc_permanova2.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate AICc for a permutational multivariate analysis of variance (PERMANOVA) — AICc_permanova2","text":"AICc calculation PERMANOVA model : $$AICc = AIC + \\frac{2k(k+1)}{n-k-1}$$ AIC Akaike Information Criterion, k number parameters model (excluding intercept), n number observations.","code":""},{"path":"https://sustainscapes.github.io/AICcPermanova/reference/AICc_permanova2.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Calculate AICc for a permutational multivariate analysis of variance (PERMANOVA) — AICc_permanova2","text":"Zuur, . F., Ieno, E. N., Walker, N. J., Saveliev, . ., & Smith, G. M. (2009). Mixed effects models extensions ecology R. Springer Science & Business Media.","code":""},{"path":[]},{"path":"https://sustainscapes.github.io/AICcPermanova/reference/AICc_permanova2.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate AICc for a permutational multivariate analysis of variance (PERMANOVA) — AICc_permanova2","text":"","code":"library(vegan) #> Loading required package: permute #> Loading required package: lattice #> This is vegan 2.6-4 data(dune) data(dune.env)  # Run PERMANOVA using adonis2  Model <- adonis2(dune ~ Management*A1, data = dune.env)  # Calculate AICc AICc_permanova2(Model) #>        AICc k  N #> 1 -19.06395 8 20"},{"path":"https://sustainscapes.github.io/AICcPermanova/reference/VIF.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Maximum Variance Inflation Factor (VIF) from a Model — VIF","title":"Get Maximum Variance Inflation Factor (VIF) from a Model — VIF","text":"function calculates maximum Variance Inflation Factor (VIF) given model. VIF measure collinearity among predictor variables within regression model. quantifies much variance estimated regression coefficient increased due collinearity. VIF 1 indicates collinearity, values 1 indicate increasing levels collinearity. VIF 5 greater often considered high, indicating strong presence collinearity.","code":""},{"path":"https://sustainscapes.github.io/AICcPermanova/reference/VIF.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Maximum Variance Inflation Factor (VIF) from a Model — VIF","text":"","code":"VIF(model)"},{"path":"https://sustainscapes.github.io/AICcPermanova/reference/VIF.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Maximum Variance Inflation Factor (VIF) from a Model — VIF","text":"model regression model, created lm, glm, similar functions.","code":""},{"path":"https://sustainscapes.github.io/AICcPermanova/reference/VIF.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Maximum Variance Inflation Factor (VIF) from a Model — VIF","text":"maximum VIF value.","code":""},{"path":"https://sustainscapes.github.io/AICcPermanova/reference/VIF.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Get Maximum Variance Inflation Factor (VIF) from a Model — VIF","text":"Belsley, D. ., Kuh, E., & Welsch, R. E. (1980). Regression Diagnostics: Identifying Influential Data Sources Collinearity. John Wiley & Sons. Kutner, M. H., Nachtsheim, C. J., Neter, J., & Li, W. (2004). Applied Linear Statistical Models. McGraw-Hill/Irwin. O'Brien, R. M. (2007). caution regarding rules thumb variance inflation factors. Quality & Quantity, 41(5), 673-690.","code":""},{"path":"https://sustainscapes.github.io/AICcPermanova/reference/filter_vif.html","id":null,"dir":"Reference","previous_headings":"","what":"Filters out equations with high multicollinearity — filter_vif","title":"Filters out equations with high multicollinearity — filter_vif","text":"function takes dataframe several models calculates maximum Variance Inflation Factor (VIF) given model. either filters ones high collinearity flags accordingly","code":""},{"path":"https://sustainscapes.github.io/AICcPermanova/reference/filter_vif.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Filters out equations with high multicollinearity — filter_vif","text":"","code":"filter_vif(all_forms, env_data, ncores = 2, filter = TRUE, verbose = TRUE)"},{"path":"https://sustainscapes.github.io/AICcPermanova/reference/filter_vif.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Filters out equations with high multicollinearity — filter_vif","text":"all_forms data frame generated make_models env_data dataset variables described all_froms ncores integer specifying number cores use parallel processing filter logical, TRUE filters models maximum VIF high higher, FALSE generates new column called collinearity, wich verbose logical, defaults TRUE, sends messages processing times","code":""},{"path":"https://sustainscapes.github.io/AICcPermanova/reference/filter_vif.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Filters out equations with high multicollinearity — filter_vif","text":"data.frame models, fitering ones high collinearity flagginf .","code":""},{"path":"https://sustainscapes.github.io/AICcPermanova/reference/filter_vif.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Filters out equations with high multicollinearity — filter_vif","text":"","code":"# \\donttest{ library(vegan) data(dune) data(dune.env) AllModels <- make_models(vars = c(\"A1\", \"Moisture\", \"Manure\")) #> 1 of 3 ready 2023-04-08 09:10:19 #> 2 of 3 ready 2023-04-08 09:10:23 #> 3 of 3 ready 2023-04-08 09:10:25  filter_vif(all_forms = AllModels,            env_data = dune.env) #>                                form  max_vif #> 1                     Distance ~ A1 0.000000 #> 2               Distance ~ Moisture 0.000000 #> 3                 Distance ~ Manure 0.000000 #> 4          Distance ~ A1 + Moisture 3.000000 #> 5            Distance ~ A1 + Manure 4.000000 #> 6      Distance ~ Moisture + Manure 4.000000 #> 7 Distance ~ A1 + Moisture + Manure 4.508169 #> 8                      Distance ~ 1 0.000000 # }"},{"path":"https://sustainscapes.github.io/AICcPermanova/reference/fit_models.html","id":null,"dir":"Reference","previous_headings":"","what":"Fit PERMANOVA models and arrange by AICc — fit_models","title":"Fit PERMANOVA models and arrange by AICc — fit_models","text":"function fits PERMANOVA models combinations variables given dataset, arranges models Akaike Information Criterion (AICc) score. function also calculates maximum variance inflation factor (max_vif) model.","code":""},{"path":"https://sustainscapes.github.io/AICcPermanova/reference/fit_models.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fit PERMANOVA models and arrange by AICc — fit_models","text":"","code":"fit_models(   all_forms,   veg_data,   env_data,   method = \"bray\",   ncores = 2,   log = TRUE,   logfile = \"log.txt\",   multiple = 100,   strata = NULL,   verbose = FALSE )"},{"path":"https://sustainscapes.github.io/AICcPermanova/reference/fit_models.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fit PERMANOVA models and arrange by AICc — fit_models","text":"all_forms data frame generated make_models veg_data dataset vegetation presence absense abundance data env_data dataset variables described all_froms method method distance vegdist ncores integer specifying number cores use parallel processing log logical true, log file generated logfile text file generated log multiple many loops write log file strata block variable similar use adonis2 verbose logical, defaults TRUE, sends messages processing times","code":""},{"path":"https://sustainscapes.github.io/AICcPermanova/reference/fit_models.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fit PERMANOVA models and arrange by AICc — fit_models","text":"data.frame fitted models arranged AICc, including formula used, number explanatory variables, R2, adjusted R2, AICc max VIF.","code":""},{"path":"https://sustainscapes.github.io/AICcPermanova/reference/fit_models.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Fit PERMANOVA models and arrange by AICc — fit_models","text":"Anderson, M. J. (2001). new method non-parametric multivariate analysis variance. Austral Ecology, 26(1), 32-46. https://doi.org/10.1111/j.1442-9993.2001.01070.pp.x","code":""},{"path":"https://sustainscapes.github.io/AICcPermanova/reference/fit_models.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fit PERMANOVA models and arrange by AICc — fit_models","text":"","code":"# \\donttest{ library(vegan) data(dune) data(dune.env)  AllModels <- make_models(vars = c(\"A1\", \"Moisture\", \"Manure\")) #> 1 of 3 ready 2023-04-08 09:10:31 #> 2 of 3 ready 2023-04-08 09:10:35 #> 3 of 3 ready 2023-04-08 09:10:37  fit_models(all_forms = AllModels,            veg_data = dune,            env_data = dune.env) #>                                form      AICc  max_vif         A1  Moisture #> 1               Distance ~ Moisture -30.36319 0.000000         NA 0.4019903 #> 2                     Distance ~ A1 -29.72347 0.000000 0.16816657        NA #> 3                      Distance ~ 1 -28.52467 0.000000         NA        NA #> 4          Distance ~ A1 + Moisture -28.21149 3.000000 0.04230343 0.2761272 #> 5                 Distance ~ Manure -25.21490 0.000000         NA        NA #> 6            Distance ~ A1 + Manure -25.18745 4.000000 0.12092088        NA #> 7      Distance ~ Moisture + Manure -22.93984 4.000000         NA 0.3005223 #> 8 Distance ~ A1 + Moisture + Manure -18.59078 4.508169 0.04145173 0.2210532 #>      Manure Model #> 1        NA    NA #> 2        NA    NA #> 3        NA     0 #> 4        NA    NA #> 5 0.3544714    NA #> 6 0.3072258    NA #> 7 0.2530035    NA #> 8 0.2521518    NA # }"},{"path":"https://sustainscapes.github.io/AICcPermanova/reference/make_models.html","id":null,"dir":"Reference","previous_headings":"","what":"Create models with different combinations of variables — make_models","title":"Create models with different combinations of variables — make_models","text":"Generates possible linear models given set predictor variables using distance matrix response variable. function allows user specify maximum number variables model, can useful cases many predictors. output data frame containing possible models, can passed fit_models function fitting using PERMANOVA approach.","code":""},{"path":"https://sustainscapes.github.io/AICcPermanova/reference/make_models.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create models with different combinations of variables — make_models","text":"","code":"make_models(vars, ncores = 2, k = NULL, verbose = TRUE)"},{"path":"https://sustainscapes.github.io/AICcPermanova/reference/make_models.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create models with different combinations of variables — make_models","text":"vars character vector variables use modeling ncores integer specifying number cores use parallel processing k maximum number variables model, default NULL verbose logical, defaults TRUE, sends messages processing times","code":""},{"path":"https://sustainscapes.github.io/AICcPermanova/reference/make_models.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create models with different combinations of variables — make_models","text":"data frame containing possible linear permanova models","code":""},{"path":"https://sustainscapes.github.io/AICcPermanova/reference/make_models.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Create models with different combinations of variables — make_models","text":"Anderson, M. J. (2001). new method non-parametric multivariate analysis variance. Austral Ecology, 26(1), 32-46.","code":""},{"path":"https://sustainscapes.github.io/AICcPermanova/reference/make_models.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create models with different combinations of variables — make_models","text":"","code":"# \\donttest{ make_models(vars = c(\"A\", \"B\", \"C\", \"D\"),             ncores = 2, verbose = FALSE) #>                        form #> 1              Distance ~ A #> 2              Distance ~ B #> 3              Distance ~ C #> 4              Distance ~ D #> 5          Distance ~ A + B #> 6          Distance ~ A + C #> 7          Distance ~ A + D #> 8          Distance ~ B + C #> 9          Distance ~ B + D #> 10         Distance ~ C + D #> 11     Distance ~ A + B + C #> 12     Distance ~ A + B + D #> 13     Distance ~ A + C + D #> 14     Distance ~ B + C + D #> 15 Distance ~ A + B + C + D #> 16             Distance ~ 1  # using k as a way to limit number of variables make_models(vars = c(\"A\", \"B\", \"C\", \"D\"),             ncores = 2, k = 2, verbose = FALSE) #>                form #> 1      Distance ~ A #> 2      Distance ~ B #> 3      Distance ~ C #> 4      Distance ~ D #> 5  Distance ~ A + B #> 6  Distance ~ A + C #> 7  Distance ~ A + D #> 8  Distance ~ B + C #> 9  Distance ~ B + D #> 10 Distance ~ C + D #> 11     Distance ~ 1 # }"},{"path":"https://sustainscapes.github.io/AICcPermanova/reference/select_models.html","id":null,"dir":"Reference","previous_headings":"","what":"Select models based on AICc and VIF. — select_models","title":"Select models based on AICc and VIF. — select_models","text":"function selects models data frame based AICc VIF values. Models AICc greater negative infinity VIF less equal 6 considered. difference AICc values model calculated respect model minimum AICc. Models difference AICc less equal specified delta_aicc value selected.","code":""},{"path":"https://sustainscapes.github.io/AICcPermanova/reference/select_models.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Select models based on AICc and VIF. — select_models","text":"","code":"select_models(df, delta_aicc = 2)"},{"path":"https://sustainscapes.github.io/AICcPermanova/reference/select_models.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Select models based on AICc and VIF. — select_models","text":"df data frame containing models select . delta_aicc numeric value specifying maximum difference AICc values allowed.","code":""},{"path":"https://sustainscapes.github.io/AICcPermanova/reference/select_models.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Select models based on AICc and VIF. — select_models","text":"data frame containing selected models.","code":""},{"path":"https://sustainscapes.github.io/AICcPermanova/reference/select_models.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Select models based on AICc and VIF. — select_models","text":"","code":"df <- data.frame(AICc = c(10, 12, 15, 20), max_vif = c(2, 4, 5, 6)) select_models(df) #>   AICc max_vif DeltaAICc #> 1   10       2         0 #> 2   12       4         2 select_models(df, delta_aicc = 5) #>   AICc max_vif DeltaAICc #> 1   10       2         0 #> 2   12       4         2 #> 3   15       5         5"}]
